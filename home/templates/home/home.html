{% extends 'base.html' %}
{% load static %}
{% load novel_filters %}

{% block title %}ãƒ›ãƒ¼ãƒ {% endblock %}

{% block header_content %}
<div class="header">
    <span>è¶…çŸ­ç·¨å°èª¬ä¼š</span>
    {% if user.is_authenticated %}
        <span class="user-nickname">{{ user.nickname }}</span>
    {% endif %}
</div>
{% endblock %}

{% block nav_links %}
<!-- ãƒ›ãƒ¼ãƒ ç”»é¢ã§ã¯ãƒ›ãƒ¼ãƒ ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã—ãªã„ -->
<!-- ä»–ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ãŒã‚ã‚Œã°ã“ã“ã«è¿½åŠ  -->
{% endblock nav_links %}

{% block content %}

{# ã“ã“ã‹ã‚‰è¿½åŠ  #}
{% if not user.is_authenticated %}
<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
<div id="welcomeModal" class="modal" style="display: block;">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2 style="color: #856404; margin-bottom: 15px; text-align: center; font-size: 1.2em;">
            ä¼šå“¡ç™»éŒ²ãŒã¾ã ã®çš†æ§˜ã¸
        </h2>
        <div style="color: #555; line-height: 1.6; font-size: 0.95em;">
            <div style="background: #fff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                <p style="margin-bottom: 10px; font-weight: bold; color: #856404;">
                    è¶…çŸ­ç·¨å°èª¬ä¼šã«ä¼šå“¡ç™»éŒ²ã™ã‚‹ã¨ã€ã“ã‚“ãªã“ã¨ãŒã§ãã¾ã™ï¼š
                </p>
                <ul style="list-style: none; padding-left: 0;">
                    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0;">âœ¨</span>
                        è‡ªåˆ†ã®å°èª¬ã‚’æŠ•ç¨¿ã§ãã‚‹
                    </li>
                    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0;">ğŸ’­</span>
                        ä½œå“ã«æ„Ÿæƒ³ã‚’æ›¸ã‘ã‚‹
                    </li>
                    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0;">ğŸ®</span>
                        ã¿ã‚“ãªã§åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã®å°èª¬ã‚’æ›¸ã„ã¦éŠã¹ã‚‹
                    </li>
                </ul>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <a href="{% url 'accounts:signup' %}" class="signup-button">
                    ä»Šã™ãä¼šå“¡ç™»éŒ²ã™ã‚‹
                </a>
            </div>
        </div>
    </div>
</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« -->
<style>
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    animation: fadeIn 0.3s;
}

.modal-content {
    position: relative;
    background-color: #fff3cd;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #ffeeba;
    border-radius: 10px;
    width: 80%;
    max-width: 600px;
    animation: slideIn 0.3s;
}

.close-button {
    position: absolute;
    right: 15px;
    top: 10px;
    color: #856404;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close-button:hover {
    color: #000;
}

.signup-button {
    display: inline-block;
    padding: 10px 30px;
    background-color: #28a745;
    color: white !important;
    text-decoration: none;
    border-radius: 5px;
    font-size: 1.1em;
    font-weight: bold;
    transition: background-color 0.3s;
}

.signup-button:hover {
    background-color: #218838;
    color: white !important;
    text-decoration: none;
}

@keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
}

@keyframes slideIn {
    from {transform: translateY(-100px); opacity: 0;}
    to {transform: translateY(0); opacity: 1;}
}

/* ã‚¹ãƒãƒ›å¯¾å¿œ */
@media screen and (max-width: 768px) {
    .modal-content {
        margin: 30% auto;
        width: 90%;
        padding: 15px;
    }
}
</style>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨ã®JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    var modal = document.getElementById('welcomeModal');
    var closeButton = document.getElementsByClassName('close-button')[0];

    closeButton.onclick = function() {
        modal.style.display = "none";
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
});
</script>
{% endif %}
{# ã“ã“ã¾ã§è¿½åŠ  #}

<div class="image-container">
    <img src="{% static 'home/images/'|add:now|add:'.jpeg' %}" alt="{{ now }}æœˆ" class="responsive-image">
    <div class="centered-text">{{ now }}æœˆ</div>

    <div class="button-container">
        {% if user.is_authenticated %}
        <div class="home-btn home-btn-primary" title="åŸ·ç­†ã™ã‚‹">
            <a href="{% url 'novels:novel_choice' %}">
                <img src="/static/home/images/pen_icon.svg" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>
        {% endif %}

        <div class="home-btn home-btn-list home-btn-list-orange" title="æœ¬ã‚’æ¢ã™">
            <a href="{% url 'novels:index' %}">
                <img src="{% static 'home/images/books.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>

        <div class="home-btn home-btn-list home-btn-list-green" title="äººæ¢ã—">
            <a href="{% url 'accounts:member_list' %}">
                <img src="{% static 'images/profile_lady.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>

        <!-- ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¡ãƒ³ãƒˆ -->
        <!-- ç¥­ã‚Šæƒ…å ±: {{ current_maturi_game|default:"ãªã—" }} -->
        
        <!-- ç¥­ã‚ŠæœŸé–“ä¸­ã®ã¿è¡¨ç¤º -->
        {% if current_maturi_game %}
        <div class="home-btn home-btn-list home-btn-maturi" title="ç¥­ã‚Š">
            <a href="{% url 'game_maturi:game_maturi_top' game_id=current_maturi_game.id %}">
                <img src="{% static 'home/images/maturi.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>
        {% endif %}

        <!-- åŒã‚¿ã‚¤ãƒˆãƒ«å°èª¬ãƒœã‚¿ãƒ³ -->
        <div class="home-btn home-btn-list home-btn-list-blue" title="åŒã‚¿ã‚¤ãƒˆãƒ«å°èª¬">
            <a href="{% url 'game_same_title:same_title' %}">
                <img src="{% static 'home/images/dou_game.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>

        <div class="home-btn home-btn-list home-btn-list-purple" title="ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦">
            <a href="{% url 'home:terms' %}">
                <img src="{% static 'home/images/hatena.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>

        <div class="home-btn home-btn-list home-btn-list-red" title="ãŠçŸ¥ã‚‰ã›">
            <a href="{% url 'announcements:list' %}">
                <img src="{% static 'home/images/info.svg' %}" alt="Icon" style="width: 100%; height: auto;">
            </a>
        </div>


    </div>
</div>

<!-- ç®¡ç†è€…ç”¨ã‚¨ãƒªã‚¢ã‚’ã“ã“ã«ç§»å‹• -->
{% if user.is_staff %}
    {% include 'home/includes/_admin_area.html' %}
{% endif %}

<div class="novels-list-container">
    <div class="sss-novels-list">
        {% for novel in latest_novels %}
            <!-- PCè¡¨ç¤º -->
            <div class="sss-novel-row pc-view">
                <div class="sss-date">{{ novel.published_date|date:"Y/m/d" }}</div>
                <div class="sss-genre">{{ novel.genre }}</div>
                <div class="sss-event">{{ novel.event|default:"-" }}</div>
                <div class="sss-month">
                    {% if novel.event == "ç¥­ã‚Š" %}
                        {{ novel.published_date|date:"Yå¹´" }}
                    {% elif novel.same_title_event_month %}
                        {{ novel.same_title_event_month|format_event_month }}
                    {% else %}
                        -
                    {% endif %}
                </div>
                <div class="sss-count">{{ novel.word_count }}æ–‡å­—</div>
                <div class="sss-link sss-author">
                    {% if novel.author %}
                        <a href="{% url 'accounts:view_other_profile' user_id=novel.author.id %}">{{ novel.author.nickname }}</a>
                    {% else %}
                        <span>ä½œè€…ä¸æ˜</span>
                    {% endif %}
                </div>
                <div class="sss-link sss-title" style="color: #007bff !important;">
                    <a href="{% url 'novels:novel_detail' novel.id %}" style="color: #007bff !important;">{{ novel.title }}</a>
                    {% if novel.is_first_post %}
                        <span class="first-post-badge" onclick="showBadgeModal('ä¸€ç•ªæ§')" style="cursor: pointer;">ğŸ—¡ï¸ ä¸€ç•ªæ§</span>
                    {% endif %}
                </div>
            </div>

            <!-- ã‚¹ãƒãƒ›è¡¨ç¤ºç”¨ -->
            <div class="sss-novel-row sp-view" onclick="location.href='{% url 'novels:novel_detail' novel.id %}'" style="cursor: pointer;">
                <div class="sss-header-row">
                    <div class="sss-link sss-title">
                        <a href="{% url 'novels:novel_detail' novel.id %}" onclick="event.stopPropagation();">{{ novel.title }}</a>
                        {% if novel.is_first_post %}
                            <span class="first-post-badge" onclick="event.stopPropagation(); showBadgeModal('ä¸€ç•ªæ§');" style="cursor: pointer;">ğŸ—¡ï¸</span>
                        {% endif %}
                    </div>
                </div>
                <div class="sss-info-row">
                    <div class="sss-author">
                        {% if novel.author %}
                            <a href="{% url 'accounts:view_other_profile' user_id=novel.author.id %}" onclick="event.stopPropagation();">{{ novel.author.nickname }}</a>
                        {% else %}
                            <span>ä½œè€…ä¸æ˜</span>
                        {% endif %}
                    </div>
                    <div class="sss-date">{{ novel.published_date|date:"m/d" }}</div>
                    <div class="sss-count">{{ novel.word_count }}</div>
                    <div class="sss-genre">{{ novel.genre }}</div>
                    <div class="sss-event">
                        {% if novel.event == "åŒã‚¿ã‚¤ãƒˆãƒ«" %}åŒ{% elif novel.event == "ç¥­ã‚Š" %}ç¥­{% else %}{{ novel.event|default:"-" }}{% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="button-container-center">
        <a href="{% url 'novels:novels_paginated' %}" class="list-button novels-button" style="background-color: #007bff !important;">
            ã‚‚ã£ã¨å°èª¬ä¸€è¦§
        </a>
    </div>
</div>

<!-- é‡è¦ãªãŠçŸ¥ã‚‰ã›ã®ã¿ã‚’è¡¨ç¤º -->
{% if announcements %}
<div class="announcements-container">
    <div class="sss-novels-list">
        {% for announcement in announcements %}
            <!-- PCè¡¨ç¤ºç”¨ -->
            <div class="sss-novel-row pc-view">
                <div class="sss-date">{{ announcement.created_at|date:"Y/m/d" }}</div>
                <div class="sss-link sss-title">
                    <a href="{% url 'announcements:detail' announcement.id %}" style="color: #ff69b4 !important;">{{ announcement.title }}</a>
                </div>
            </div>

            <!-- ã‚¹ãƒãƒ›è¡¨ç¤ºç”¨ -->
            <div class="sss-novel-row sp-view">
                <div class="sss-header-row">
                    <div class="sss-link sss-title">
                        <a href="{% url 'announcements:detail' announcement.id %}" style="color: #ff69b4 !important;">{{ announcement.title }}</a>
                    </div>
                </div>
                <div class="sss-info-row">
                    <div class="sss-date">{{ announcement.created_at|date:"Y/m/d" }}</div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="button-container-center">
        <a href="{% url 'announcements:list' %}" class="list-button novels-button" style="background-color: #ff69b4 !important;">
            ãŠçŸ¥ã‚‰ã›ä¸€è¦§
        </a>
    </div>
</div>
{% endif %}

<footer class="footer">
    <p>â’¸è¶…çŸ­ç·¨å°èª¬ä¼š</p>
</footer>

<!-- ãƒãƒƒã‚¸èª¬æ˜ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div class="modal fade" id="badgeModal" tabindex="-1" aria-labelledby="badgeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="badgeModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="é–‰ã˜ã‚‹"></button>
            </div>
            <div class="modal-body" id="badgeModalBody">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é–‰ã˜ã‚‹</button>
            </div>
        </div>
    </div>
</div>

<script>
function showBadgeModal(badgeType) {
    const modal = new bootstrap.Modal(document.getElementById('badgeModal'));
    const modalTitle = document.getElementById('badgeModalLabel');
    const modalBody = document.getElementById('badgeModalBody');

    if (badgeType === 'ä¸€ç•ªæ§') {
        modalTitle.textContent = 'ğŸ—¡ï¸ ä¸€ç•ªæ§ã¨ã¯ï¼Ÿ';
        modalBody.innerHTML = `
            <p><strong>ä¸€ç•ªæ§</strong>ã¯ã€åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ãƒ»åŒã˜æœˆã§æœ€åˆã«æŠ•ç¨¿ã•ã‚ŒãŸä½œå“ã«è´ˆã‚‰ã‚Œã‚‹ç§°å·ã§ã™ã€‚</p>
            <ul>
                <li>åŒã‚¿ã‚¤ãƒˆãƒ«ã‚²ãƒ¼ãƒ ã§ææ¡ˆã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã«å¯¾ã—ã¦ã€æœ€åˆã«ä½œå“ã‚’æŠ•ç¨¿ã—ãŸä½œè€…ãŒç²å¾—</li>
                <li>1ã¤ã®æœˆãƒ»1ã¤ã®ã‚¿ã‚¤ãƒˆãƒ«ã«ã¤ã1äººã ã‘ãŒç²å¾—å¯èƒ½</li>
                <li>æŠ•ç¨¿æ—¥æ™‚ãŒæ—©ã„é †ã«åˆ¤å®šã•ã‚Œã¾ã™</li>
            </ul>
            <p class="text-muted mb-0">â€»ä¸€ç•ªæ§ã‚’ç²å¾—ã™ã‚‹ã¨ã€ä½œå“ä¸€è¦§ã§é»„è‰²ã®èƒŒæ™¯è‰²ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
        `;
    } else if (badgeType === 'ä¸€ç•ªç›¾') {
        modalTitle.textContent = 'ğŸ›¡ï¸ ä¸€ç•ªç›¾ã¨ã¯ï¼Ÿ';
        modalBody.innerHTML = `
            <p><strong>ä¸€ç•ªç›¾</strong>ã¯ã€åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ãƒ»åŒã˜æœˆã§2ç•ªç›®ã«æŠ•ç¨¿ã•ã‚ŒãŸä½œå“ã«è´ˆã‚‰ã‚Œã‚‹ç§°å·ã§ã™ã€‚</p>
            <ul>
                <li>åŒã‚¿ã‚¤ãƒˆãƒ«ã‚²ãƒ¼ãƒ ã§ææ¡ˆã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã«å¯¾ã—ã¦ã€2ç•ªç›®ã«ä½œå“ã‚’æŠ•ç¨¿ã—ãŸä½œè€…ãŒç²å¾—</li>
                <li>1ã¤ã®æœˆãƒ»1ã¤ã®ã‚¿ã‚¤ãƒˆãƒ«ã«ã¤ã1äººã ã‘ãŒç²å¾—å¯èƒ½</li>
                <li>æŠ•ç¨¿æ—¥æ™‚ãŒæ—©ã„é †ã«åˆ¤å®šã•ã‚Œã¾ã™</li>
            </ul>
            <p class="text-muted mb-0">â€»ä¸€ç•ªç›¾ã¯ä¸€ç•ªæ§ã«æ¬¡ãæ „èª‰ã‚ã‚‹ç§°å·ã§ã™ã€‚</p>
        `;
    }

    modal.show();
}
</script>

<style>
    .responsive-image {
        width: 100%; /* ç”»åƒã®å¹…ã‚’100%ã«è¨­å®š */
        height: auto; /* é«˜ã•ã¯è‡ªå‹•ã§èª¿æ•´ */
        max-height: 430px; /* æœ€å¤§ã®é«˜ã•ã‚’500pxã«è¨­å®š */
        object-fit: cover; /* ã‚³ãƒ³ãƒ†ãƒŠã®ã‚µã‚¤ã‚ºã«åˆã‚ã›ã¦ç”»åƒã‚’ãƒˆãƒªãƒŸãƒ³ã‚° */
    }
    .image-container {
        position: relative; /* ç›¸å¯¾ä½ç½® */
        text-align: center; /* ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¸­å¤®ã«é…ç½® */
        width: 100%; /* ã‚³ãƒ³ãƒ†ãƒŠã®å¹…ã‚’å…¨ä½“ã« */
        overflow: hidden;
    }

    .responsive-image {
        width: 100%; /* ç”»åƒã®å¹…ã‚’100%ã«è¨­å®š */
        height: auto; /* é«˜ã•ã¯è‡ªå‹•ã§èª¿æ•´ */
    }

    .centered-text {
        position: absolute; /* çµ¶å¯¾ä½ç½® */
        top: 50%; /* ä¸Šã‹ã‚‰50%ã®ä½ç½® */
        left: 50%; /* å·¦ã‹ã‚‰50%ã®ä½ç½® */
        transform: translate(-50%, -50%); /* ä¸­å¤®ã«é…ç½® */
        color: white; /* ãƒ†ã‚¹ãƒˆã®è‰² */
        font-size: 45px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’36pxã«å¤§ããã™ */
        font-weight: bold; /* ãƒ•ã‚©ãƒ³ãƒˆã®å¤ªã• */
        z-index: 100; /* z-indexã‚’è¨­å®šã—å‰é¢ã«è¡¨ç¤º */
        text-shadow: 2px 2px 4px #000000; /* é»’ã„å½±ã‚’ãƒ†ã‚­ã‚¹ãƒˆã«è¿½åŠ  */
        pointer-events: none;  /* ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç„¡è¦– */
        z-index: 1;  /* z-indexã‚’ä¸‹ã’ã‚‹ */
    }

    /* ã‚¹ãƒãƒ›è¡¨ç¤ºæ™‚ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ */
    @media screen and (max-width: 768px) {
        .scrolled .centered-text {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
    }

.responsive-image {
    max-width: 100%; /* ã‚³ãƒ³ãƒ†ãƒŠã®å¹…ã«åˆã‚ã›ã¦èª¿æ•´ */
    height: auto; /* é«˜ã•ã¯è‡ªå‹•ã§èª¿æ•´ */
}
    .home-btn {
        margin: 5px !important;
        width: 50px !important;
        height: 50px !important;
        border-radius: 50% !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        overflow: hidden; /* ã¯ã¿å‡ºãŸç”»åƒã‚’éš ã™ */
    }
    .home-btn img {
        width: 72% !important; /* 90%ã®80%ã«ç›¸å½“ã™ã‚‹ã‚µã‚¤ã‚ºã«èª¿æ•´ */
        height: auto !important;
        object-fit: cover; /* ç”»åƒãŒãƒœã‚¿ãƒ³ã®å½¢ã«åˆã‚ã›ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã« */
        margin: auto; /* ç”»åƒã‚’ä¸­å¤®ã«é…ç½® */
    }
    .home-btn-primary {
        background-color: #007bff !important;
    }
    .home-btn-list-orange {
        background-color: #f0ad4e !important;
    }
    .home-btn-list-green {
        background-color: #5cb85c !important;
    }
    .home-btn-list-blue {
        background-color: rgb(118, 50, 50) !important;
    }
    .home-btn-list-purple {
        background-color: #6f42c1 !important;
    }
    .home-btn-list-red {
        background-color: #dc3545 !important;  /* Bootstrap ã®èµ¤è‰²ã‚’ä½¿ç”¨ */
    }
    .home-btn-list-silver {
    background-color: silver !important;
    }   

    .footer {
        text-align: center;  /* å·¦æƒãˆã‹ã‚‰ä¸­æƒãˆã«å¤‰æ›´ */
        background-color: #f8f9fa;
        color: #333;
        padding: 10px 0;  /* ä¸Šä¸‹ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  */
    }

    .footer p {
        margin: 0;  /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚¸ãƒ³ã‚’å‰Šé™¤ */
    }

    .novels-list-container,
    .announcements-container {
        margin: 10px 20px !important;  /* å·¦å³ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’20pxã«è¨­å®š */
        padding: 0 !important;
        width: auto !important;        /* å¹…ã‚’è‡ªå‹•ã« */
        max-width: none !important;    /* max-widthã®åˆ¶é™ã‚’è§£é™¤ */
    }

    /* ã‚¹ãƒãƒ›è¡¨ç¤ºæ™‚ã®ãƒãƒ¼ã‚¸ãƒ³èª¿æ•´ */
    @media screen and (max-width: 768px) {
        .novels-list-container,
        .announcements-container {
            margin: 10px 15px !important;  /* ã‚¹ãƒãƒ›ã§ã¯ãƒãƒ¼ã‚¸ãƒ³ã‚’å°‘ã—å°ã•ã */
        }
    }

    .sss-novels-list {
        margin-bottom: 10px !important;  /* ãƒªã‚¹ãƒˆã¨ä¸‹ãƒœã‚¿ãƒ³ã®é–“ã®ãƒãƒ¼ã‚¸ãƒ³ã‚‚èª¿æ•´ */
    }

    .button-container-center {
        margin: 10px 0 !important;  /* ãƒœã‚¿ãƒ³ã®ä¸Šä¸‹ãƒãƒ¼ã‚¸ãƒ³ã‚‚èª¿æ•´ */
    }

    .novels-list-title {
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: #333;
        text-align: center;
    }

    .novels-table {
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
    }

    /* è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆç”¨ */
    .pc-only {
        display: flex !important;
    }
    .sp-only {
        display: none !important;
    }

    /* PCç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .pc-only.novel-item {
        padding: 8px 10px !important;
        border-bottom: 1px solid #eee !important;
        flex-wrap: nowrap !important;
        align-items: center !important;
        gap: 15px !important;
        min-height: 36px !important;
    }

    .novel-link-container {
        font-size: 0.9em !important;
        color: #007bff !important;
        display: flex !important;
        align-items: center !important;
        line-height: 20px !important;
        height: 20px !important;
    }

    .novel-link-container a,
    .novel-link-container span {
        color: inherit !important;
        text-decoration: none !important;
        display: block !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
        line-height: 20px !important;
        height: 20px !important;
        font-weight: normal !important;
    }

    .pc-only .novel-date {
        flex: 0 0 100px !important;
        font-size: 0.9em !important;
        color: #666 !important;
    }

    .pc-only .novel-genre {
        flex: 0 0 100px !important;
        font-size: 0.9em !important;
        color: #28a745 !important;
    }

    .pc-only .novel-count {
        flex: 0 0 80px !important;
        font-size: 0.9em !important;
        color: #666 !important;
    }

    .pc-only .novel-author {
        flex: 0 0 150px !important;
    }

    .pc-only .novel-title {
        flex: 1 !important;
    }

    /* ã‚¹ãƒãƒ›ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    @media screen and (max-width: 768px) {
        .pc-only {
            display: none !important;
        }
        .sp-only {
            display: block !important;
        }

        .sp-only.novel-item {
            padding: 3px 8px !important;
            border-bottom: 1px solid #eee !important;
        }

        .title-author-container {
            width: 100% !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            margin-bottom: 5px !important;
        }

        .date-genre-container {
            width: 100% !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }

        .sp-only .novel-title {
            flex: 1 !important;
            margin-right: 10px !important;
        }

        .sp-only .novel-author {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
        }

        .genre-count-container {
            display: flex !important;
            align-items: center !important;
            gap: 10px !important;
        }

        .sp-only .novel-count {
            margin-left: 10px !important;
        }
    }

    /* ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ  */
    .novels-table + a {  /* å°èª¬ä¸€è¦§ã®å¾Œã®ãƒªãƒ³ã‚¯ */
        display: inline-block !important;
        padding: 10px 20px !important;
        margin-top: 20px !important;
        background-color: #007bff !important;
        color: white !important;
        text-decoration: none !important;
        border-radius: 5px !important;
        font-size: 0.9em !important;
    }

    .novels-table + a:hover {
        background-color: #0056b3 !important;
        text-decoration: none !important;
    }

    /* ã‚¹ãƒãƒ›ç”¨ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
    @media screen and (max-width: 768px) {
        .novels-table + a {
            width: 100% !important;  /* ã‚¹ãƒãƒ›ã§ã¯å¹…ã„ã£ã±ã„ */
            text-align: center !important;
            box-sizing: border-box !important;
        }
    }

    /* ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®Œå…¨ã«å…ƒé€šã‚Šã« */
    .btn-primary {
        display: inline-block !important;
        padding: 6px 12px !important;
        margin-bottom: 0 !important;
        font-size: 14px !important;
        font-weight: 400 !important;
        line-height: 1.42857143 !important;
        text-align: center !important;
        white-space: nowrap !important;
        vertical-align: middle !important;
        cursor: pointer !important;
        background-color: #337ab7 !important;
        border: 1px solid #2e6da4 !important;
        border-radius: 4px !important;
        color: #fff !important;
        text-decoration: none !important;
    }

    .btn-primary:hover {
        color: #fff !important;
        background-color: #286090 !important;
        border-color: #204d74 !important;
    }

    /* ã‚¹ãƒãƒ›ç”¨ã®ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
    @media screen and (max-width: 768px) {
        .btn-primary {
            display: block !important;
            width: 100% !important;
            margin-top: 10px !important;
        }
    }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¼·åˆ¶çš„ã«ä¸‹ã’ã‚‹ */
    .novel-link-container.novel-title {
        margin-top: 4px !important;  /* ã“ã“ã§å¼·åˆ¶çš„ã«ä¸‹ã’ã‚‹ */
    }

    .novel-link-container.novel-title a {
        margin-top: 4px !important;  /* ãƒªã‚¯ã‚‚åŒã˜ãä¸‹ã’ã‚‹ */
    }

    /* PCè¡¨ç¤ºç”¨ */
    .sss-novels-list {
        border: 1px solid #ddd !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }

    .pc-view {
        display: flex !important;
        padding: 8px 10px !important;
        border-bottom: 1px solid #eee !important;
        align-items: center !important;
        gap: 15px !important;
        min-height: 36px !important;
    }

    .sss-date {
        flex: 0 0 100px !important;
        font-size: 0.9em !important;
        color: #666 !important;
    }

    .sss-genre {
        flex: 0 0 100px !important;
        font-size: 0.9em !important;
        color: #28a745 !important;
    }

    .sss-event {
        flex: 0 0 80px !important;
        font-size: 0.9em !important;
        color: #dc3545 !important;
    }

    .sss-month {
        flex: 0 0 100px !important;
        font-size: 0.9em !important;
        color: #6c757d !important;
    }

    .sss-count {
        flex: 0 0 80px !important;
        font-size: 0.9em !important;
        color: #666 !important;
    }

    .sss-link {
        font-size: 0.9em !important;
        color: #007bff !important;
        display: flex !important;
        align-items: center !important;
        line-height: normal !important;
        min-height: 20px !important;
    }

    /* ä¸€ç•ªæ§ãƒãƒƒã‚¸ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .first-post-badge {
        display: inline-block;
        padding: 4px 12px;
        margin-left: 10px;
        /* ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ï¼šæ ç·šã®ã¿ */
        border: 2px solid #dc3545;
        color: #dc3545;
        background: transparent;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: bold;
        white-space: nowrap;
        height: auto !important;
        line-height: normal !important;
        transition: transform 0.2s ease, background 0.2s ease;
    }

    .first-post-badge:hover {
        transform: translateY(-2px);
        background: rgba(220, 53, 69, 0.1);
    }

    .sss-author {
        flex: 0 0 150px !important;
    }

    .sss-title {
        flex: 1 !important;
    }

    .sss-link a,
    .sss-link span {
        color: inherit !important;
        text-decoration: none !important;
        display: block !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
        line-height: 20px !important;
        height: 20px !important;
        font-weight: normal !important;
    }

    /* ä¸€ç•ªæ§ãƒãƒƒã‚¸ã¯é«˜ã•åˆ¶é™ã‚’è§£é™¤ */
    .sss-link .first-post-badge {
        display: inline-block !important;
        height: auto !important;
        line-height: normal !important;
    }

    .sp-view {
        display: none !important;
    }

    /* ã‚¹ãƒãƒ›è¡¨ç¤ºç”¨ */
    @media screen and (max-width: 768px) {
        .pc-view {
            display: none !important;
        }

        .sp-view {
            display: block !important;
            padding: 3px 8px !important;
            border-bottom: 1px solid #eee !important;
        }

        .sss-header-row {
            width: 100% !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            margin-bottom: 5px !important;
        }

        .sss-info-row {
            width: 100% !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }

        .sss-meta {
            display: flex !important;
            align-items: center !important;
            gap: 10px !important;
            flex-wrap: wrap !important;
            min-width: 0 !important;
        }

        .sp-view .sss-title {
            flex: 1 !important;
            margin-right: 10px !important;
        }

        .sp-view .sss-author {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
        }

        .sss-count {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
            font-size: 0.85em !important;
            margin-left: 5px !important;
            overflow: visible !important;
        }

        .sss-genre {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
            font-size: 0.85em !important;
        }

        .sss-event {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
            font-size: 0.85em !important;
            margin-left: 5px !important;
        }

        .sss-month {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
            font-size: 0.85em !important;
            margin-left: 5px !important;
        }

        .sss-date {
            font-size: 0.85em !important;
            white-space: nowrap !important;
        }

        /* ã‚¹ãƒãƒ›ç”¨ã®ä¸€ç•ªæ§ãƒãƒƒã‚¸ */
        .first-post-badge {
            font-size: 0.75em;
            padding: 2px 6px;
            margin-left: 4px;
            white-space: nowrap;
        }
    }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã ã‘å¤ªå­—ã« */
    .sss-link.sss-title a,
    .sss-link.sss-title span {
        font-weight: bold !important;  /* ã‚¿ã‚¤ãƒˆãƒ«ã ã‘å¤ªå­— */
        color: #0056b3 !important;  /* ã‚¿ã‚¤ãƒˆãƒ«ã ã‘æ¿ƒã„é’ã« */
    }

    /* ä½œå®¶åã¯å…ƒã®ã‚¹ã‚¿ã‚¤ãƒ«ã« */
    .sss-link.sss-author a,
    .sss-link.sss-author span {
        font-weight: normal !important;  /* é€šå¸¸ã®å¤ªã• */
        color: #007bff !important;  /* å…ƒã®é’è‰² */
    }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ›ãƒãƒ¼æ™‚ã®åŠ¹æœ */
    .sss-link.sss-title a:hover {
        color: #003d7a !important;
        text-decoration: underline !important;
    }

    /* ã‚‚ã£ã¨è¦‹ã‚‹ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .more-novels-button-container {
        text-align: left;  /* PCã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å·¦å¯„ã› */
        margin: 20px auto;
        padding: 0 15px;
    }

    .more-novels-button {
        display: inline-block;
        padding: 10px 30px;
        background-color: #007bff;
        color: white !important;
        text-decoration: none !important;
        border-radius: 5px;
        font-size: 0.9em;
        transition: background-color 0.3s;
    }

    .more-novels-button:hover {
        background-color: #0056b3;
        color: white !important;
        text-decoration: none !important;
    }

    /* ãƒãƒ›å‘ã‘ã®èª¿æ•´ */
    @media screen and (max-width: 768px) {
        .more-novels-button-container {
            margin: 15px auto;
            text-align: center;  /* ã‚¹ãƒãƒ›ã§ã¯ä¸­å¤®å¯„ã› */
        }

        .more-novels-button {
            display: block;
            width: 100%;
            text-align: center;
            padding: 12px 20px;
        }
    }

    /* ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒ†ãƒŠã¨ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .button-container-center {
        text-align: left !important;  /* PCã§ã¯å·¦å¯„ã› */
        margin: 20px 0 !important;
    }

    .list-button {
        display: inline-block !important;
        padding: 6px 12px !important;
        margin-bottom: 0 !important;
        font-size: 14px !important;
        font-weight: 400 !important;
        line-height: 1.42857143 !important;
        text-align: center !important;
        white-space: nowrap !important;
        vertical-align: middle !important;
        cursor: pointer !important;
        border-radius: 4px !important;
        text-decoration: none !important;
    }

    .announcements-button {
        background-color: #337ab7 !important;
        border: 1px solid #2e6da4 !important;
        color: #fff !important;
    }

    .novels-button {
        background-color: #337ab7 !important;
        border: 1px solid #2e6da4 !important;
        color: #fff !important;
    }

    .announcements-button:hover,
    .novels-button:hover {
        background-color: #286090 !important;
        border-color: #204d74 !important;
        color: #fff !important;
    }

    /* ã‚¹ãƒãƒ›å¯¾å¿œ */
    @media screen and (max-width: 768px) {
        .button-container-center {
            text-align: center !important;  /* ã‚¹ãƒãƒ›ã§ã¯ä¸­å¤®å¯„ã› */
            padding: 0 10px !important;
        }
        
        .list-button {
            display: block !important;
            width: 100% !important;
            margin-top: 10px !important;
            box-sizing: border-box !important;
        }
    }

    /* ãŠçŸ¥ã‚‰ã›ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .announcement-item {
        padding: 12px 15px !important;
        margin-bottom: 10px !important;
        border-radius: 6px !important;
        background-color: #fff !important;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
    }

    .announcement-item.priority-high {
        border-left: 4px solid #dc3545 !important;  /* é‡è¦ãªãŠçŸ¥ã‚‰ã›ã¯èµ¤ã„ãƒœãƒ¼ãƒ€ãƒ¼ */
    }

    .announcement-header {
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        margin-bottom: 5px !important;
    }

    .announcement-priority {
        font-size: 0.8em !important;
        padding: 2px 8px !important;
        border-radius: 12px !important;
        background-color: #dc3545 !important;
        color: white !important;
    }

    .announcement-title {
        font-weight: bold !important;
        margin-bottom: 5px !important;
    }

    .announcements-footer {
        text-align: right !important;
        padding: 10px !important;
    }

    .view-all-link {
        font-size: 0.9em !important;
        color: #6c757d !important;
        text-decoration: none !important;
    }

    .view-all-link:hover {
        text-decoration: underline !important;
    }

    /* ãŠçŸ¥ã‚‰ã›ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒªãƒ³ã‚¯è‰²ã‚’é’ã«æˆ»ã™ */
    .sss-link.sss-title a {
        color: #0056b3 !important;  /* æ¿ƒã„é’ã«æˆ»ã™ */
        font-weight: bold !important;
    }

    .sss-link.sss-title a:hover {
        color: #003d7a !important;  /* ãƒ›ãƒãƒ¼æ™‚ã¯ã‚ˆã‚Šæ¿ƒã„é’ */
        text-decoration: underline !important;
    }

    /* ãŠçŸ¥ã‚‰ã›ä¸€è¦§ãƒœã‚¿ãƒ³ã‚’é’ã«æˆ»ã™ */
    .list-button.novels-button {
        background-color: #337ab7 !important;  /* å…ƒã®é’è‰²ã«æˆ»ã™ */
        border: 1px solid #2e6da4 !important;  /* å…ƒã®é’è‰²ã®ãƒœãƒ¼ãƒ€ãƒ¼ */
        color: #fff !important;
    }

    .list-button.novels-button:hover {
        background-color: #286090 !important;  /* ãƒ›ãƒãƒ¼æ™‚ã¯å…ƒã®æ¿ƒã„é’ */
        border-color: #204d74 !important;
    }

    /* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«ã«è¿½åŠ  */
    .home-btn-maturi {
        background: linear-gradient(45deg, #FF4081, #FF1744) !important;
        box-shadow: 0 0 15px rgba(255, 64, 129, 0.5) !important;
        position: relative;
        overflow: hidden;
    }

    /* ã‚­ãƒ©ã‚­ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    .home-btn-maturi::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            45deg,
            transparent,
            rgba(255, 255, 255, 0.3),
            transparent
        );
        transform: rotate(45deg);
        animation: shine 3s infinite;
    }

    /* ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    .home-btn-maturi:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease;
        animation: pulse 1.5s infinite;
    }

    @keyframes shine {
        0% {
            transform: translateX(-100%) rotate(45deg);
        }
        100% {
            transform: translateX(100%) rotate(45deg);
        }
    }

    @keyframes pulse {
        0% {
            box-shadow: 0 0 15px rgba(255, 64, 129, 0.5);
        }
        50% {
            box-shadow: 0 0 25px rgba(255, 64, 129, 0.8);
        }
        100% {
            box-shadow: 0 0 15px rgba(255, 64, 129, 0.5);
        }
    }
</style>

<!-- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« -->
<style>
.maintenance-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    animation: fadeIn 0.3s;
}

.maintenance-modal-content {
    position: relative;
    background-color: #fff3cd;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #ffeeba;
    border-radius: 10px;
    width: 80%;
    max-width: 400px;
    text-align: center;
    animation: slideIn 0.3s;
}

.maintenance-close {
    position: absolute;
    right: 15px;
    top: 10px;
    color: #856404;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.maintenance-close:hover {
    color: #000;
}
</style>

<!-- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
<div id="maintenanceModal" class="maintenance-modal">
    <div class="maintenance-modal-content">
        <span class="maintenance-close">&times;</span>
        <h3 style="color: #856404; margin-bottom: 15px;">ãŠçŸ¥ã‚‰ã›</h3>
        <p style="color: #555;">åŒã‚¿ã‚¤ãƒˆãƒ«å°èª¬ã¯ç¾åœ¨ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã§ã™ã€‚<br>ã”è¿·æƒ‘ã‚’ãŠã‹ã‘ã—ã¦ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    </div>
</div>

<!-- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ç”¨ã®JavaScript -->
<script>
function showMaintenanceDialog() {
    var modal = document.getElementById('maintenanceModal');
    modal.style.display = "block";

    // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã®å‡¦ç†
    var closeBtn = modal.getElementsByClassName('maintenance-close')[0];
    closeBtn.onclick = function() {
        modal.style.display = "none";
    }

    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å¤–å´ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚é–‰ã˜ã‚‹
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
}
</script>

{% endblock content %}